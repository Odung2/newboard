<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.7.0.js"
	integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
	crossorigin="anonymous"></script>
</head>
<body>
	<form name="form-signup" id="form-signup" style="margin: 0px;">
		<div>
			    <label for="userId">아이디</label>         :     
			<input type="text"
				name="userId" id="userId" value="" />
		</div>
		<div>
			    <label for="email">이메일</label>         :     
			<input type="text"
				   name="email" id="email" value="" />
		</div>
		<div>
			    <label for="name">이름</label>         :     
			<input type="text"
				   name="name" id="name" value="" />
		</div>
		<div>
			    <label for="phone">전화번호</label>         :     
			<input type="text"
				   name="phone" id="phone" value="" />
		</div>
		 
		<div>
			    <label for="password">비밀번호</label>     :     <input type="password"
				name="password" id="password" value="" />
		</div>
		<div>
			       <input type="button" value="가입" onclick="signup()" />
			 
		</div>
	</form>
</body>

<script type="text/javascript">
	function signup() {
		var param = {};
		param.userId = $("#userId").val();
		param.email = $("#email").val();
		param.name = $("#name").val();
		param.phone = $("#phone").val();
		param.password = $("#password").val();

		alert("param : ", param);
		console.log("param : ", param);
		$.ajax({
			url : '/user/signup',
			type : 'POST',
			data : JSON.stringify(param),
			contentType : 'application/json; charset=utf-8',
			dataType : 'json',
			success: function(data) {
				//alert("성공");
				console.log(data)
				if(data.resultCode == 200) {
					alert("가입 완료.");
					//window.location = "/view/login";
				} else {
					alert("실패 하였습니다. [" + data.resultCode + "][" + data.resultMessage + "]");
				}

			},
			error: function(e) {
				alert('실패');
				console.log(e);
			}
		});
	}
</script>
</html>